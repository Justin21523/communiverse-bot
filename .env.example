# ===== Discord / App =====
DISCORD_TOKEN=
APP_ID=
GUILD_ID_DEV=
NODE_ENV=production
TZ=Asia/Taipei

# ===== Mongo =====
# Dev: local container with auth
MONGODB_URI=mongodb://dev:devpass@mongo:27017/communiverse_bot?authSource=admin
DB_NAME=communiverse_bot
# Atlas example (uncomment to use):
# MONGODB_URI=mongodb+srv://<user>:<pass>@<cluster-host>/communiverse_bot?retryWrites=true&w=majority

# ===== AI sidecar (Python HTTP) =====
AI_ENABLED=true
AI_BACKEND=python
AI_API_BASE_URL=http://ai-python:8088
AI_API_TIMEOUT_MS=15000
AI_API_RETRY_ATTEMPTS=2
AI_API_RETRY_BACKOFF_MS=400

# ===== LLM (adapter: tgi | vllm | ollama | mock) =====
LLM_ADAPTER=tgi
LLM_API_BASE=http://ai-python:8088
LLM_API_KEY=ollama
LLM_MODEL=Qwen/Qwen2.5-7B-Instruct
LLM_REASONING_MODEL=
LLM_MAX_NEW_TOKENS=512
LLM_TEMPERATURE=0.7
LLM_TOP_P=0.9
LLM_TOP_K=50
LLM_TIMEOUT_MS=30000

# ===== VLM (vision) =====
VLM_API_BASE=http://ai-python:8088
VLM_API_KEY=ollama
VLM_MODEL=llava-1.6
VLM_TIMEOUT_MS=45000
VLM_ENHANCE_IMAGE=true
VLM_ANALYZE_QUALITY=true

# ===== Embeddings =====
EMBEDDINGS_API_BASE=http://ai-python:8088
EMBEDDINGS_MODEL=BAAI/bge-m3
EMBEDDINGS_DIM=1024
EMBEDDINGS_TIMEOUT_MS=10000

# ===== Web Search (agent tool) =====
WEB_SEARCH_PROVIDER=brave
BRAVE_API_KEY=
SEARXNG_BASE_URL=http://searxng:8080
WEB_SEARCH_TIMEOUT_MS=10000
WEB_SEARCH_CACHE_TTL=3600

# ===== RAG =====
RAG_ENABLED=true
RAG_PROVIDER=atlas
RAG_INDEX_NAME=rag_vector_index
RAG_DEFAULT_MODE=hybrid
RAG_TOP_K=8
RAG_MMR_ALPHA=0.7
RAG_CHUNK_SIZE=700
RAG_CHUNK_OVERLAP=120

# ===== Metrics =====
METRICS_ENABLED=true
LOG_LEVEL=info
METRICS_PORT=9090

# ===== GPU runtime flag for sidecar =====
ENABLE_CUDA=1

# ===== Optional feature flags =====
FEATURES__ENABLE_CHAT=true
FEATURES__ENABLE_RAG=true
FEATURES__ENABLE_AGENT=true
FEATURES__ENABLE_VQA=true
FEATURES__ENABLE_CAPTION=true
FEATURES__PRELOAD_MODELS=false

# ===== Optional seeds =====
SEED_GUILD_ID=
SEED_CHANNEL_IDS=
